<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Smart Dialogue Setup</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f9f9f9;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 600px;
      margin: auto;
    }
    .instruction-box {
      background-color: #f0f8ff;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 14px;
      line-height: 1.5;
    }
    .accordion {
      margin-bottom: 10px;
      border-radius: 6px;
      background: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    .accordion summary {
      padding: 14px;
      font-weight: bold;
      background: #e0f7fa;
      cursor: pointer;
    }
    .accordion summary:hover {
      background: #b2ebf2;
    }
    .options {
      padding: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .option-button {
      padding: 10px 14px;
      border: none;
      background: #eee;
      border-radius: 6px;
      cursor: pointer;
      flex: 1 1 45%;
    }
    .option-button.selected {
      background: #cce5ff !important;
      font-weight: bold;
    }
    .start-section {
      text-align: center;
      margin-top: 30px;
    }
    .start-button {
      padding: 10px 24px;
      font-size: 16px;
      border: none;
      background: #4caf50;
      color: white;
      border-radius: 8px;
      cursor: pointer;
    }
    .start-button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    .other-input {
      flex: 1 1 100%;
      padding: 8px;
      margin-top: 6px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
  </style>
  <script>
  const selections = {
    level: false,
    place: false,
    goal: false,
    role: false,
    userVoice: false,
    partnerVoice: false
  };

  function handleSelection(button, typeOverride = null) {
    const group = button.closest('.options');
    const buttons = group.querySelectorAll('.option-button');

    buttons.forEach(btn => btn.classList.remove('selected'));
    button.classList.add('selected');

    const type = typeOverride || group.closest('details').querySelector('summary').innerText;

    if (type.includes('è‹±èªãƒ¬ãƒ™ãƒ«')) selections.level = true;
    else if (type.includes('å ´æ‰€')) selections.place = true;
    else if (type.includes('ä½•ã‚’ã—ãŸã„')) selections.goal = true;
    else if (type.includes('å½¹å‰²')) selections.role = true;
    else if (type === 'userVoice') selections.userVoice = true;
    else if (type === 'partnerVoice') selections.partnerVoice = true;

    checkAllSelected();
  }

  function checkAllSelected() {
    const allSet = Object.values(selections).every(Boolean);
    document.querySelector('.start-button').disabled = !allSet;
  }

  function startDialogue() {
    alert("ğŸš€ Moving to the main part...");
    // Placeholder: Transition to main dialogue interface
  }
</script>
</head>
<body>
<div class="container">
  <div class="instruction-box">
    <strong>ğŸ“˜ è‹±èªã§ã®ä¼šè©±ç·´ç¿’ã‚’å§‹ã‚ã¾ã—ã‚‡ã†ã€‚</strong><br>
    å¿…è¦ãªæƒ…å ±ã‚’é †ç•ªã«é¸ã‚“ã§ãã ã•ã„ã€‚<br>
    ğŸ—£ï¸ Letâ€™s get ready for your English conversation.<br>
    Please go through the steps below to set your preferences.
  </div>

  <details class="accordion">
    <summary>ã‚ãªãŸã®è‹±èªãƒ¬ãƒ™ãƒ«ã¯ï¼Ÿ / Your English Level</summary>
    <div class="options">
      <button class="option-button" onclick="handleSelection(this)">ğŸ”° åˆç´š</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸ”„ ä¸­ä¸‹ç´š</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸ” ä¸­ä¸Šç´š</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸ§  ä¸Šç´š</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸ² ãã®ä»–</button>
      <input class="other-input" type="text" placeholder="ãƒ¬ãƒ™ãƒ«ã‚’å…¥åŠ› / Enter your level" />
    </div>
  </details>

  <details class="accordion">
    <summary>ä¼šè©±ã‚’ã—ãŸã„å ´æ‰€ã¯ï¼Ÿ / Where will the conversation happen?</summary>
    <div class="options">
      <button class="option-button" onclick="handleSelection(this)">ğŸ½ï¸ ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸ¨ ãƒ›ãƒ†ãƒ«</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸª ã‚³ãƒ³ãƒ“ãƒ‹</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸ¥ ç—…é™¢</button>
      <button class="option-button" onclick="handleSelection(this)">âœˆï¸ ç©ºæ¸¯</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸš‰ ãã®ä»–</button>
      <input class="other-input" type="text" placeholder="å ´æ‰€ã‚’å…¥åŠ› / Enter place" />
    </div>
  </details>

  <details class="accordion">
    <summary>ä½•ã‚’ã—ãŸã„ã§ã™ã‹ï¼Ÿ / What do you want to do?</summary>
    <div class="options">
      <button class="option-button" onclick="handleSelection(this)">ğŸ“… äºˆç´„ã‚’ã—ãŸã„</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸ½ï¸ é£Ÿäº‹ã‚’ã—ãŸã„</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸ“– ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¦‹ã›ã¦ã»ã—ã„</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸ’¬ ãŠã™ã™ã‚ã‚’èããŸã„</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸ² ãã®ä»–</button>
      <input class="other-input" type="text" placeholder="ç›®çš„ã‚’å…¥åŠ› / Enter your goal" />
    </div>
  </details>

  <details class="accordion">
    <summary>ã‚ãªãŸã®å½¹å‰²ã¯ï¼Ÿ / Your Role</summary>
    <div class="options">
      <button class="option-button" onclick="handleSelection(this)">ğŸ™‹ å®¢ã¨ã—ã¦è©±ã™</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸ§‘â€ğŸ’¼ åº—å“¡ã¨ã—ã¦è©±ã™</button>
      <button class="option-button" onclick="handleSelection(this)">ğŸ­ ãã®ä»–</button>
      <input class="other-input" type="text" placeholder="å½¹å‰²ã‚’å…¥åŠ› / Enter your role" />
    </div>
  </details>

  <details class="accordion">
    <summary>å£°ã®æ€§åˆ¥ã‚’é¸ã‚“ã§ãã ã•ã„ / Choose the voice gender</summary>
    <div class="options" data-group="userVoice">
      <div style="width: 100%; font-weight: bold;">ğŸ‘¤ ã‚ãªãŸã®å£° / Your Voice:</div>
      <button class="option-button" onclick="handleSelection(this, 'userVoice')">ğŸ‘© å¥³æ€§</button>
      <button class="option-button" onclick="handleSelection(this, 'userVoice')">ğŸ‘¨ ç”·æ€§</button>
    </div>
    <div class="options" data-group="partnerVoice">
      <div style="width: 100%; font-weight: bold; margin-top:10px;">ğŸ§ ç›¸æ‰‹ã®å£° / Partner's Voice:</div>
      <button class="option-button" onclick="handleSelection(this, 'partnerVoice')">ğŸ‘© å¥³æ€§</button>
      <button class="option-button" onclick="handleSelection(this, 'partnerVoice')">ğŸ‘¨ ç”·æ€§</button>
    </div>
  </details>

  <div class="start-section">
    <button class="start-button" onclick="startDialogue()" disabled>â¡ï¸ ã‚¹ã‚¿ãƒ¼ãƒˆ / Start</button>
  </div>
</div>
</body>
</html>
